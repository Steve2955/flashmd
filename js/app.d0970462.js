(function(e){function t(t){for(var o,s,i=t[0],l=t[1],c=t[2],u=0,p=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-13167bd2":"29e734a2"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",c.name="ChunkLoadError",c.type=o,c.request=a,n[1](c)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/flashmd/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"54ab":function(e,t,n){e.exports=n.p+"img/ic_base.fd349e24.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)},a=[],s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nav",{staticClass:"navbar fixed-top navbar-dark bg-dark"},[o("img",{staticClass:"d-inline-block align-top",attrs:{src:n("54ab"),width:"30",height:"30",alt:"",loading:"lazy"}}),o("router-link",{staticClass:"navbar-brand mb-0 h1 ml-2 mr-auto clickable",attrs:{tag:"span",to:"/"}},[e._v("FlashMD")])],1)},i=[],l={name:"Header"},c=l,u=n("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null),p=d.exports,f={name:"App",components:{Header:p}},m=f,h=(n("5c0b"),Object(u["a"])(m,r,a,!1,null,null,null)),v=h.exports,b=n("9483");Object(b["a"])("".concat("/flashmd/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var g,w=n("2f62"),k=(n("4de4"),n("7db0"),n("b0c0"),n("d3b7"),n("ade3")),y=n("2909"),O=(n("96cf"),n("1da1")),C="loadLearnsetFromFile",_="loadLearnsetFromUrl",x="tokenizeMarkdown",j="parseLearnset",$="setLearnset",L=n("36d5"),M=n.n(L),E=(n("c740"),{getCardTitle:function(e){return e.front[1].content},getLearnsetTitle:function(e){var t=1+e.findIndex((function(e){return"heading_open"===e.type}));return e[t].content},getCardLevel:function(e){return parseInt(e.front[0].tag[1])-1}}),P={learnset:{}},F={learnset:function(e){return e.learnset}},A=(g={},Object(k["a"])(g,C,(function(){return new Promise(function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t,n){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M()({accept:".md,.markdown"});case 2:o=e.sent,o[0]||n(new Error("No file selected")),r=new FileReader,r.onload=function(){return t(r.result)},r.onerror=function(){return n(new Error("No file selected"))},r.readAsText(o[0]);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),Object(k["a"])(g,_,(function(e){return fetch(e).then((function(e){if(200==e.status)return e.text();new Error("Failed to load file with statuscode ".concat(e.status))}))})),Object(k["a"])(g,x,(function(e,t){return o["a"].$md.parse(t,{})})),Object(k["a"])(g,j,(function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var o,r,a,s,i,l,c,u,d,p,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.commit,r=e.dispatch,n.t0=t.tokens,n.t0){n.next=6;break}return n.next=5,r(x,t.md||t);case 5:n.t0=n.sent;case 6:for(a=n.t0,s=[],i={front:[],back:[]},l=!0,c=0;c<a.length;c++)("heading_open"===a[c].type&&!l||c==a.length-1)&&(l=!0,u=Object(y["a"])(s).reverse().find((function(e){return e.front[0].tag[1]<i.front[0].tag[1]})),u&&(i.category=E.getCardTitle(u)),i.title=E.getCardTitle(i),s.push(i),i={front:[],back:[]}),i[l?"front":"back"].push(a[c]),"heading_close"===a[c].type&&l&&(l=!1);return s=s.filter((function(e){return e.back.length})),s=s.filter((function(e){return t.levels[E.getCardLevel(e)]})),d=t.url||void 0,p=t.name||void 0,f={cards:s,url:d,name:p},o($,f),n.abrupt("return",f);case 18:case"end":return n.stop()}}),n)})))()})),g),T=Object(k["a"])({},$,(function(e,t){e.learnset=t})),R={state:P,getters:F,actions:A,mutations:T};o["a"].use(w["a"]);var S=new w["a"].Store({modules:{learnset:R}}),N=(n("a89b"),n("4989"),n("8c4f")),D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container pt-5"},[o("h1",{staticClass:"text-center h3"},[e._v("Welcome to FlashMD")]),o("p",{staticClass:"text-center h6 mt-3"},[e._v("A simple tool to make digital flashcards from your exisiting markdown notes")]),o("img",{staticClass:"mx-auto d-block mt-5",attrs:{width:"150",height:"150",src:n("54ab")}}),o("div",{staticClass:"mt-5"},[o("p",{staticClass:"text-center"},[e._v("Just open a markdown file and start learning")]),o("div",{staticClass:"d-flex justify-content-center"},[o("button",{staticClass:"btn btn-outline-light mr-2",attrs:{type:"button"},on:{click:e.openFile}},[e._v("Open File")]),o("button",{staticClass:"btn btn-outline-light",attrs:{type:"button"},on:{click:e.openURL}},[e._v("Open URL")])])]),o("LearnsetOptionsModal",{attrs:{options:e.options,active:e.showLearnsetOptionsModal},on:{"update:options":function(t){e.options=t},"update:active":function(t){e.showLearnsetOptionsModal=t},saved:e.parseMarkdown}})],1)},H=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"learnsetOptionsModal","data-backdrop":"static","data-keyboard":"false",tabindex:"-1",role:"dialog"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},[n("div",{staticClass:"modal-content"},[e._m(0),n("div",{staticClass:"modal-body"},[n("form",{staticClass:"container"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"font-weight-bold"},[e._v("Give this learnset a name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.loptions.name,expression:"loptions.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Example input placeholder"},domProps:{value:e.loptions.name},on:{input:function(t){t.target.composing||e.$set(e.loptions,"name",t.target.value)}}})]),n("label",{staticClass:"font-weight-bold"},[e._v("Enable/Disable certain heading levels")]),e._l(e.loptions.levels,(function(t,o){return n("div",{key:o,staticClass:"form-group form-check mb-0"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.loptions.levels[o],expression:"loptions.levels[index]"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.loptions.levels[o])?e._i(e.loptions.levels[o],null)>-1:e.loptions.levels[o]},on:{change:function(t){var n=e.loptions.levels[o],r=t.target,a=!!r.checked;if(Array.isArray(n)){var s=null,i=e._i(n,s);r.checked?i<0&&e.$set(e.loptions.levels,o,n.concat([s])):i>-1&&e.$set(e.loptions.levels,o,n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.loptions.levels,o,a)}}}),n("label",{staticClass:"form-check-label"},[e._v("Heading "+e._s(o+1))])])}))],2)]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return e.$emit("update:active",!1)}}},[e._v("Cancel")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(t){e.$emit("update:options",e.loptions),e.$emit("update:active",!1),e.$emit("saved")}}},[e._v("Save")])])])])])},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[e._v("Options")])])}],q=n("1157"),z=n.n(q),B={name:"learnsetOptionsModal",data:function(){return{loptions:{}}},props:{active:Boolean,options:Object},watch:{active:function(e){e&&(this.loptions=this.options),z()("#learnsetOptionsModal").modal(e?"show":"hide")}},methods:{}},I=B,G=Object(u["a"])(I,U,J,!1,null,null,null),W=G.exports,K={name:"Home",components:{LearnsetOptionsModal:W},data:function(){return{tokens:void 0,showLearnsetOptionsModal:!1,options:{name:void 0,url:void 0,levels:[!0,!0,!0,!0,!0,!0]}}},methods:{openFile:function(){var e=this;this.$store.dispatch(C).then((function(t){return e.$store.dispatch(x,t)})).then((function(t){return e.showOptionsDialog({tokens:t})})).catch((function(e){return console.error(e)}))},openURL:function(){var e=this,t=prompt("Please enter a url to your markdown file","");if(!t)return console.error("empty url");this.$store.dispatch(_,t).then((function(t){return e.$store.dispatch(x,t)})).then((function(n){return e.showOptionsDialog({tokens:n,url:t})})).catch((function(e){return console.error(e)}))},showOptionsDialog:function(e){var t=e.tokens,n=e.url;this.tokens=t,this.options.name=E.getLearnsetTitle(t),this.options.url=n,this.showLearnsetOptionsModal=!0},parseMarkdown:function(){var e=this,t=this.options,n=t.levels,o=t.name,r=t.url,a=this.tokens;this.$store.dispatch(j,{tokens:a,levels:n,name:o,url:r}).then((function(){return e.$router.push("/learn")})).catch((function(e){return console.error(e)}))}}},Q=K,V=Object(u["a"])(Q,D,H,!1,null,null,null),X=V.exports;o["a"].use(N["a"]);var Y=[{path:"/",name:"Home",component:X},{path:"/learn",name:"Learn",component:function(){return n.e("chunk-13167bd2").then(n.bind(null,"41ce"))}}],Z=new N["a"]({mode:"history",base:"/flashmd/",routes:Y}),ee=Z,te=n("d4cd"),ne=n.n(te),oe={init:function(){return Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=ne()(),o["a"].prototype.$md=o["a"].$md=t;case 2:case"end":return e.stop()}}),e)})))()}};o["a"].config.productionTip=!1,oe.init(),new o["a"]({store:S,router:ee,render:function(e){return e(v)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("9c0c"),r=n.n(o);r.a},"9c0c":function(e,t,n){},a89b:function(e,t,n){}});
//# sourceMappingURL=app.d0970462.js.map